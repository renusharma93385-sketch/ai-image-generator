<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator - 4K Quality</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 36px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 16px;
        }

        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 10px;
        }

        .input-section {
            margin-bottom: 30px;
        }

        .prompt-label {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            display: block;
        }

        .prompt-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #667eea;
            border-radius: 12px;
            font-size: 15px;
            outline: none;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
            transition: all 0.3s;
        }

        .prompt-input:focus {
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .option-group {
            display: flex;
            flex-direction: column;
        }

        .option-label {
            font-size: 14px;
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
        }

        .select-input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 14px;
            outline: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .select-input:hover {
            border-color: #667eea;
        }

        .select-input:focus {
            border-color: #764ba2;
        }

        .generate-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 30px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        .generate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-section {
            display: none;
            text-align: center;
        }

        .result-section.active {
            display: block;
        }

        .generated-image {
            width: 100%;
            max-width: 100%;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .download-btn {
            padding: 15px 30px;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
        }

        .download-btn:hover {
            background: #059669;
            transform: scale(1.05);
        }

        .new-btn {
            padding: 15px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .new-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }

        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: #667eea;
            font-size: 16px;
            font-weight: 600;
        }

        .examples {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
        }

        .examples h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .example-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .example-item:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .example-text {
            color: #555;
            font-size: 14px;
        }

        .error {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .error.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé® AI Image Generator</h1>
            <p>Create stunning 4K realistic images with AI</p>
            <span class="badge">POWERED BY GOOGLE GEMINI</span>
        </div>

        <div class="error" id="error"></div>

        <div class="input-section">
            <label class="prompt-label">‚úçÔ∏è Describe your image in detail:</label>
            <textarea 
                class="prompt-input" 
                id="promptInput" 
                placeholder="Example: A beautiful sunset over mountains with a lake in the foreground, golden hour lighting, photorealistic, 4K quality, detailed landscape photography"
            ></textarea>
        </div>

        <div class="options">
            <div class="option-group">
                <label class="option-label">üìê Aspect Ratio</label>
                <select class="select-input" id="aspectRatio">
                    <option value="1:1">Square (1:1)</option>
                    <option value="16:9">Landscape (16:9)</option>
                    <option value="9:16">Portrait (9:16)</option>
                    <option value="4:3">Standard (4:3)</option>
                    <option value="3:4">Vertical (3:4)</option>
                </select>
            </div>

            <div class="option-group">
                <label class="option-label">üîç Search Grounding</label>
                <select class="select-input" id="searchGrounding">
                    <option value="false">Off (Faster)</option>
                    <option value="true">On (More Accurate)</option>
                </select>
            </div>
        </div>

        <button class="generate-btn" id="generateBtn" onclick="generateImage()">
            üöÄ Generate Image
        </button>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <div class="loading-text">Creating your masterpiece... ‚ú®</div>
        </div>

        <div class="result-section" id="resultSection">
            <img id="generatedImage" class="generated-image" alt="Generated Image">
            <div>
                <button class="download-btn" onclick="downloadImage()">‚¨áÔ∏è Download</button>
                <button class="new-btn" onclick="resetForm()">üé® Create New</button>
            </div>
        </div>

        <div class="examples">
            <h3>üí° Example Prompts (Click to use):</h3>
            <div class="example-item" onclick="useExample(0)">
                <div class="example-text">A futuristic city at night with neon lights, flying cars, cyberpunk style, highly detailed, 4K</div>
            </div>
            <div class="example-item" onclick="useExample(1)">
                <div class="example-text">A cute golden retriever puppy playing in a flower garden, sunny day, professional photography, shallow depth of field</div>
            </div>
            <div class="example-item" onclick="useExample(2)">
                <div class="example-text">A delicious chocolate cake with strawberries on top, food photography, studio lighting, mouth-watering, ultra realistic</div>
            </div>
            <div class="example-item" onclick="useExample(3)">
                <div class="example-text">An astronaut floating in space with Earth in the background, cinematic lighting, photorealistic, 8K quality</div>
            </div>
            <div class="example-item" onclick="useExample(4)">
                <div class="example-text">A cozy coffee shop interior with warm lighting, wooden furniture, plants, aesthetic, Instagram worthy</div>
            </div>
        </div>
    </div>

    <script>
        const examples = [
            "A futuristic city at night with neon lights, flying cars, cyberpunk style, highly detailed, 4K",
            "A cute golden retriever puppy playing in a flower garden, sunny day, professional photography, shallow depth of field",
            "A delicious chocolate cake with strawberries on top, food photography, studio lighting, mouth-watering, ultra realistic",
            "An astronaut floating in space with Earth in the background, cinematic lighting, photorealistic, 8K quality",
            "A cozy coffee shop interior with warm lighting, wooden furniture, plants, aesthetic, Instagram worthy"
        ];

        let currentImageUrl = '';

        function useExample(index) {
            document.getElementById('promptInput').value = examples[index];
        }

        async function generateImage() {
            const prompt = document.getElementById('promptInput').value.trim();
            const aspectRatio = document.getElementById('aspectRatio').value;
            const searchGrounding = document.getElementById('searchGrounding').value === 'true';

            if (!prompt) {
                showError('Please enter a description for your image!');
                return;
            }

            hideError();
            document.getElementById('generateBtn').disabled = true;
            document.getElementById('loading').classList.add('active');
            document.getElementById('resultSection').classList.remove('active');

            try {
                const response = await fetch('https://api.bhindi.io/v1/agents/gemini-nano-banana-pro/generate-image', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: prompt,
                        aspectRatio: aspectRatio,
                        useSearchGrounding: searchGrounding
                    })
                });

                const data = await response.json();

                if (data.success && data.data && data.data.imageUrl) {
                    currentImageUrl = data.data.imageUrl;
                    document.getElementById('generatedImage').src = currentImageUrl;
                    document.getElementById('resultSection').classList.add('active');
                } else {
                    showError('Failed to generate image. Please try again!');
                }
            } catch (error) {
                showError('Error connecting to AI service. Please try again!');
                console.error('Generation error:', error);
            } finally {
                document.getElementById('loading').classList.remove('active');
                document.getElementById('generateBtn').disabled = false;
            }
        }

        function downloadImage() {
            if (!currentImageUrl) return;

            const link = document.createElement('a');
            link.href = currentImageUrl;
            link.download = 'ai-generated-image.png';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function resetForm() {
            document.getElementById('promptInput').value = '';
            document.getElementById('resultSection').classList.remove('active');
            document.getElementById('promptInput').focus();
        }

        function showError(message) {
            const errorDiv = document.getElementById('error');
            errorDiv.textContent = message;
            errorDiv.classList.add('active');
        }

        function hideError() {
            document.getElementById('error').classList.remove('active');
        }

        // Enter key support
        document.getElementById('promptInput').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                generateImage();
            }
        });
    </script>
</body>
</html>